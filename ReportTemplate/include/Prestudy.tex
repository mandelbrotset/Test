\chapter{Prestudy}
\section{Repositories to analyze}
Since we are going for a quantitative analysis, we want to analyse fairly big projects that contain many commits and many forks along with many branches. This is because we want to cover as much of variant possibilities as possible to gain the most accurate result. To satisfy these requirements, the 20 top starred Java repositories on GitHub were chosen.
\paragraph*{}
The projects listed in Table (no) were cloned so that Git commands could be used to analyze the repositories. Elasticsearch was chosen as the project for our initial analysis since it has a vast number of commits (more than 20000) and forks.
\paragraph*{}
Elasticsearch is a distributed search engine used for analysing data in realtime. 
\paragraph*{}
(As of 23/3-16)
\begin{tabular}{ l l l l}
\hline
\multicolumn{1}{c}{\textbf{Project name}} & \multicolumn{1}{c}{\textbf{Number of commits}} & \multicolumn{1}{c}{\textbf{Number of existing branches}} & \multicolumn{1}{c}{\textbf{Number of forks}}\\
Elasticsearch & 20712 & 46 & 5229\\
Android-async-http & 856 & 3 & 4024
\end{tabular}
\subsection{Gathering parameter data}
When studying the code of Elasticsearch, we noticed that parameters were introduced and loaded from an external configuration file. These parameters were then used to set boolean variables that usually indicates whether to use a certain block of code or not. In Elasticsearch, the function use to set these boolean variables was called “getAsBoolean” and takes a string parameter name, and a boolean default value.\\
code:adadadawdefgeda
\paragraph*{}
The “example_parameter” could be set by the user in the external configuration file and if it has not been set, a default value, in this example true, will be used. The boolean variable would in some cases be used to indicate which block of code to use, as in this example taken from a snippet of Elasticsearch code:\\
code:awdkuahwd
\paragraph*{}
To be able to identify the parameters, and collect data about them, a tool was developed in Java which would gather the data automatically. All data that is stored in Git is hashed using SHA-1. If not stated otherwise, in this document, the hash will be referred to by SHA-1. The data to be gathered includes:
\begin{itemize}
\item The parameter name that was introduced
\item The commit SHA
\item The if-statement that the boolean is used in
\item The code where the boolean variable is set by the function that takes the parameter name as one of its parameters.
\item The commit message
\item Whether or not the commit was a pull request \ldots
\end{itemize}
The data was gathered by developing a Java program which uses Linux bash scripts that executes Git commands to get the desired data.
\paragraph*{}
Git diff. As Git saves the data as snapshots and not as changes, one needs to compare two commits in order to see which changes that were introduced in a commit. To do this, we use the built in diff command in the following way: 
git --no-pager diff <SHA-1>^ <SHA-1>
where ^ is a git shortcut to get the parent commit of a commit SHA-1.

